<template>
  <div class="app">
    <div class="container">
      <!-- æ ‡é¢˜åŒºåŸŸ -->
      <div class="header" v-if="currentStep === 0">
        <!-- å¯çˆ±çš„å°ç‹—é›ç‹—åŠ¨ç”» -->
        <div class="dog-walking-animation">
          <svg class="dog-svg" viewBox="0 0 500 300" xmlns="http://www.w3.org/2000/svg">
            <!-- æ¸å˜å®šä¹‰ -->
            <defs>
              <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#87CEEB;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#E0F6FF;stop-opacity:1" />
              </linearGradient>
              <linearGradient id="grassGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#90EE90;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#32CD32;stop-opacity:1" />
              </linearGradient>
              <linearGradient id="husbandGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#FFB6C1;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#FF69B4;stop-opacity:1" />
              </linearGradient>
              <linearGradient id="wifeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#DDA0DD;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#9370DB;stop-opacity:1" />
              </linearGradient>
              <linearGradient id="dogGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#F4A460;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#D2691E;stop-opacity:1" />
              </linearGradient>
            </defs>
            
            <!-- èƒŒæ™¯ -->
            <rect width="500" height="300" fill="url(#skyGradient)"/>
            <rect x="0" y="200" width="500" height="100" fill="url(#grassGradient)"/>
            
            <!-- äº‘æœµ -->
            <g class="clouds">
              <g class="cloud" transform="translate(80, 50)">
                <ellipse cx="0" cy="0" rx="30" ry="18" fill="white" opacity="0.9"/>
                <ellipse cx="25" cy="-5" rx="20" ry="15" fill="white" opacity="0.9"/>
                <ellipse cx="-20" cy="-3" rx="18" ry="12" fill="white" opacity="0.9"/>
              </g>
              <g class="cloud" transform="translate(380, 40)">
                <ellipse cx="0" cy="0" rx="25" ry="15" fill="white" opacity="0.8"/>
                <ellipse cx="20" cy="-3" rx="18" ry="12" fill="white" opacity="0.8"/>
                <ellipse cx="-18" cy="-2" rx="15" ry="10" fill="white" opacity="0.8"/>
              </g>
              <g class="cloud" transform="translate(250, 35)">
                <ellipse cx="0" cy="0" rx="22" ry="14" fill="white" opacity="0.7"/>
                <ellipse cx="18" cy="-4" rx="16" ry="11" fill="white" opacity="0.7"/>
                <ellipse cx="-16" cy="-1" rx="14" ry="9" fill="white" opacity="0.7"/>
              </g>
            </g>
            
            <!-- è€å…¬ -->
            <g class="husband" transform="translate(150, 180)">
              <!-- å¤´éƒ¨ -->
              <circle cx="0" cy="0" r="18" fill="url(#husbandGradient)"/>
              <!-- å¤´å‘ -->
              <path d="M -15 -18 Q 0 -30 15 -18" fill="url(#husbandGradient)"/>
              <!-- èº«ä½“ -->
              <rect x="-16" y="18" width="32" height="40" fill="url(#husbandGradient)" rx="16"/>
              <!-- æ‰‹è‡‚ -->
              <rect x="-25" y="22" width="10" height="28" fill="url(#husbandGradient)" rx="5" transform="rotate(-15, -25, 22)"/>
              <!-- è…¿ -->
              <rect x="-10" y="58" width="8" height="22" fill="url(#husbandGradient)" rx="4"/>
              <rect x="2" y="58" width="8" height="22" fill="url(#husbandGradient)" rx="4"/>
              <!-- çœ¼ç› -->
              <circle cx="-6" cy="-4" r="2.5" fill="#333"/>
              <circle cx="6" cy="-4" r="2.5" fill="#333"/>
              <!-- å˜´å·´ -->
              <path d="M -4 6 Q 0 10 4 6" stroke="#333" stroke-width="2" fill="none"/>
            </g>
            
            <!-- è€å©† -->
            <g class="wife" transform="translate(200, 180)">
              <!-- å¤´éƒ¨ -->
              <circle cx="0" cy="0" r="13" fill="url(#wifeGradient)"/>
              <!-- å¤´å‘ -->
              <path d="M -12 -13 Q 0 -22 12 -13" fill="url(#wifeGradient)"/>
              <!-- èº«ä½“ -->
              <rect x="-10" y="13" width="20" height="28" fill="url(#wifeGradient)" rx="10"/>
              <!-- æ‰‹è‡‚ -->
              <rect x="10" y="16" width="6" height="20" fill="url(#wifeGradient)" rx="3" transform="rotate(15, 10, 16)"/>
              <!-- è…¿ -->
              <rect x="-6" y="41" width="5" height="16" fill="url(#wifeGradient)" rx="2.5"/>
              <rect x="1" y="41" width="5" height="16" fill="url(#wifeGradient)" rx="2.5"/>
              <!-- çœ¼ç› -->
              <circle cx="-4" cy="-2" r="1.8" fill="#333"/>
              <circle cx="4" cy="-2" r="1.8" fill="#333"/>
              <!-- å˜´å·´ -->
              <path d="M -2 4 Q 0 6 2 4" stroke="#333" stroke-width="1.2" fill="none"/>
            </g>
            
            <!-- é›ç‹—ç»³ -->
            <path class="leash" d="M 200 175 Q 250 145 300 180" stroke="#8B4513" stroke-width="4" fill="none" stroke-linecap="round" stroke-dasharray="5,5"/>
            
            <!-- å¯çˆ±å°ç‹— -->
            <g class="dog" transform="translate(300, 180)" @click="petDog" style="cursor: pointer;">
              <!-- èº«ä½“ -->
              <ellipse cx="0" cy="0" rx="25" ry="15" fill="url(#dogGradient)"/>
              <!-- å¤´éƒ¨ -->
              <circle cx="20" cy="-10" r="18" fill="url(#dogGradient)"/>
              <!-- è€³æœµ -->
              <ellipse cx="15" cy="-25" rx="6" ry="12" fill="#8B4513" transform="rotate(-20, 15, -25)"/>
              <ellipse cx="25" cy="-25" rx="6" ry="12" fill="#8B4513" transform="rotate(20, 25, -25)"/>
              <!-- çœ¼ç› -->
              <circle cx="23" cy="-12" r="3" fill="#333"/>
              <circle cx="17" cy="-12" r="3" fill="#333"/>
              <circle cx="23" cy="-12" r="1" fill="#fff"/>
              <circle cx="17" cy="-12" r="1" fill="#fff"/>
              <!-- é¼»å­ -->
              <circle cx="30" cy="-6" r="2" fill="#000"/>
              <!-- å˜´å·´ -->
              <path d="M 30 -4 Q 28 -1 26 -4" stroke="#000" stroke-width="2" fill="none"/>
              <!-- èˆŒå¤´ -->
              <ellipse cx="28" cy="-1" rx="3" ry="2" fill="#FF69B4"/>
              <!-- å°¾å·´ -->
              <path class="tail" d="M -25 0 Q -40 -15 -30 -5" stroke="#8B4513" stroke-width="6" fill="none" stroke-linecap="round"/>
              <!-- è…¿ -->
              <rect x="-20" y="12" width="5" height="12" fill="url(#dogGradient)" rx="2.5"/>
              <rect x="-10" y="12" width="5" height="12" fill="url(#dogGradient)" rx="2.5"/>
              <rect x="10" y="12" width="5" height="12" fill="url(#dogGradient)" rx="2.5"/>
              <rect x="15" y="12" width="5" height="12" fill="url(#dogGradient)" rx="2.5"/>
              <!-- çˆªå­ -->
              <circle cx="-20" cy="24" r="2" fill="#8B4513"/>
              <circle cx="-10" cy="24" r="2" fill="#8B4513"/>
              <circle cx="10" cy="24" r="2" fill="#8B4513"/>
              <circle cx="20" cy="24" r="2" fill="#8B4513"/>
            </g>
            
            <!-- è£…é¥°å…ƒç´  -->
            <g class="decorations">
              <!-- å°éª¨å¤´ -->
              <g class="bone" transform="translate(350, 220)">
                <rect x="-8" y="-2" width="16" height="4" fill="#F4A460" rx="2"/>
                <rect x="-2" y="-8" width="4" height="16" fill="#F4A460" rx="2"/>
              </g>
              <!-- å°èŠ±æœµ -->
              <g class="flower" transform="translate(80, 220)">
                <circle cx="0" cy="0" r="4" fill="#FF69B4"/>
                <circle cx="0" cy="0" r="3" fill="#FF1493"/>
                <circle cx="0" cy="0" r="2" fill="#FF1493"/>
              </g>
              <!-- å°è´è¶ -->
              <g class="butterfly" transform="translate(420, 100)">
                <path d="M 0 0 Q -5 -5 -10 0 Q -5 5 0 0" fill="#FFB6C1"/>
                <path d="M 0 0 Q 5 -5 10 0 Q 5 5 0 0" fill="#FFB6C1"/>
              </g>
            </g>
            
            <!-- äº¤äº’æç¤º -->
            <g class="interaction-hint" transform="translate(300, 120)" @click="petDog" style="cursor: pointer;">
              <circle cx="0" cy="0" r="8" fill="#FFD700" opacity="0.8"/>
              <text x="0" y="3" text-anchor="middle" font-size="12" fill="#333" font-weight="bold">ç‚¹å‡»æˆ‘</text>
            </g>
          </svg>
        </div>
        
        <!-- å°ç‹—çŠ¶æ€æ¶ˆæ¯ -->
        <div v-if="dogState !== 'normal'" class="dog-message" :class="dogState">
          <span v-if="dogState === 'happy'">ğŸ• æ±ªæ±ªï¼å¥½å¼€å¿ƒè¢«ä½ æŠšæ‘¸ï½</span>
          <span v-else-if="dogState === 'excited'">ğŸ• æ±ªæ±ªæ±ªï¼è¶…çº§å…´å¥‹ï¼ç»§ç»­æŠšæ‘¸æˆ‘å§ï¼</span>
        </div>
        
        <h1 class="title">äº²çˆ±çš„è€å©†ä»” ğŸ’•</h1>
        <p class="subtitle">è®©æˆ‘ä»¬ä¸€èµ·èµ°å‡ºemoå›°å¢ƒå§</p>
        <div class="start-btn" @click="startQuiz">
          å¼€å§‹å§ âœ¨
        </div>
      </div>

      <!-- é—®é¢˜åŒºåŸŸ -->
      <div class="question-container" v-else-if="currentStep <= 2 || currentStep === 'work' || currentStep === 'study' || currentStep === 'life' || currentStep === 'work-salary' || currentStep === 'work-workload' || currentStep === 'work-change-job' || currentStep === 'study-seek-help' || currentStep === 'study-lower-goal' || currentStep === 'life-more-time' || currentStep === 'life-more-income'">
        <div class="question-card">
          <div class="question-number">ç¬¬ {{ getQuestionNumber() }} é¢˜</div>
          <div v-if="currentFlowTitle" class="flow-title">{{ currentFlowTitle }}</div>
          <h2 class="question-text">{{ currentQuestion.question }}</h2>
          
          <div class="options">
            <button 
              v-for="(option, index) in currentQuestion.options" 
              :key="index"
              class="option-btn"
              :class="{ 'selected': selectedOption === index }"
              @click="selectOption(index)"
            >
              {{ option.text }}
            </button>
          </div>

          <div class="navigation">
            <button 
              v-if="canGoBack()" 
              class="nav-btn prev-btn"
              @click="prevQuestion"
            >
              â† ä¸Šä¸€é¢˜
            </button>
          </div>
        </div>
      </div>

      <!-- æ¸©é¦¨åŠ¨ç”»åŒºåŸŸ -->
      <div class="happy-container" v-else-if="currentStep === 'happy'">
        <div class="happy-card">
          <h2 class="happy-title">ğŸ‰ å¤ªæ£’å•¦ï¼</h2>
          <p class="happy-text">è€å©†ä»”å¿ƒæƒ…ä¸é”™å‘¢ï½</p>
          <div class="happy-emoji">ğŸ˜Š</div>
          <p class="happy-message">ç»§ç»­ä¿æŒè¿™ä»½å¥½å¿ƒæƒ…å§ï¼</p>
          
          <div class="action-buttons">
            <button class="action-btn primary" @click="restartQuiz">
              é‡æ–°å¼€å§‹ ğŸ”„
            </button>
            <button class="action-btn secondary" @click="goHome">
              å›åˆ°é¦–é¡µ ğŸ 
            </button>
          </div>
        </div>
      </div>

      <!-- ç»“æœåŒºåŸŸ -->
      <div class="result-container" v-else>
        <div class="result-card">
          <h2 class="result-title">ğŸ’¡ ç†æ™ºåˆ†æç»“æœ</h2>
          <div class="result-content">
            <p class="result-text">{{ getResultText() }}</p>
          </div>
          
          <div class="action-buttons">
            <button class="action-btn primary" @click="restartQuiz">
              é‡æ–°å¼€å§‹ ğŸ”„
            </button>
            <button class="action-btn secondary" @click="goHome">
              å›åˆ°é¦–é¡µ ğŸ 
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'App',
  data() {
    return {
      currentStep: 0,
      selectedOption: null,
      answers: [],
      dogState: 'normal', // å°ç‹—çŠ¶æ€ï¼šnormal, happy, excited
      dogClickCount: 0, // ç‚¹å‡»æ¬¡æ•°
      
      // ğŸ¯ æ‰€æœ‰é¢˜ç›®é…ç½® - åœ¨è¿™é‡Œä¿®æ”¹é¢˜ç›®å†…å®¹
      quizConfig: {
        // ä¸»æµç¨‹é¢˜ç›®
        mainQuestions: [
          {
            id: 1,
            question: "æ˜¯ä¸æ˜¯æœ€è¿‘emoå•¦ï¼ŸğŸ˜”",
            options: [
              { 
                text: "æ˜¯ ğŸ˜¢", 
                value: "yes",
                nextAction: "continue"
              },
              { 
                text: "å¦ ğŸ˜Š", 
                value: "no",
                nextAction: "happy"
              }
            ]
          },
          {
            id: 2,
            question: "ä¸ºå•¥emoäº†å‘€ï¼Ÿ",
            options: [
              { 
                text: "å·¥ä½œå‹åŠ›å¤§ ğŸ’¼", 
                value: "work",
                nextAction: "subflow",
                subflowType: "work"
              },
              { 
                text: "å­¦ä¹ å‹åŠ›å¤§ ğŸ“š", 
                value: "study",
                nextAction: "subflow",
                subflowType: "study"
              },
              { 
                text: "ç”Ÿæ´»å‹åŠ›å¤§ ğŸ ", 
                value: "life",
                nextAction: "subflow",
                subflowType: "life"
              }
            ]
          }
        ],
        
        // å·¥ä½œå‹åŠ›å­æµç¨‹
        workFlow: {
          title: "å·¥ä½œå‹åŠ›è§£å†³æ–¹æ¡ˆ ğŸ’¼",
          questions: [
            {
              id: 3,
              question: "é¢å¯¹å·¥ä½œå‹åŠ›ï¼Œä½ æœ€å¸Œæœ›å‘ç”Ÿä»€ä¹ˆï¼Ÿ",
              options: [
                { 
                  text: "æ¶¨å·¥èµ„ï¼Œè®©ä»˜å‡ºæœ‰å›æŠ¥ ğŸ’°", 
                  value: "salary",
                  nextAction: "subflow",
                  subflowType: "work-salary"
                },
                { 
                  text: "å°‘å¹²ç‚¹æ´»ï¼Œå¤šä¼‘æ¯ â°", 
                  value: "workload",
                  nextAction: "subflow",
                  subflowType: "work-workload"
                },
                { 
                  text: "æ¢ä¸€ä»½æ›´è½»æ¾çš„å·¥ä½œ ğŸ”„", 
                  value: "change-job",
                  nextAction: "subflow",
                  subflowType: "work-change-job"
                }
              ]
            }
          ]
        },
        
        // æ¶¨å·¥èµ„å­æµç¨‹
        workSalaryFlow: {
          title: "æ¶¨å·¥èµ„æ”»ç•¥ ğŸ’°",
          questions: [
            {
              id: 4,
              question: "ä¸ºäº†æ¶¨å·¥èµ„ï¼Œä½ æ„¿æ„ä»˜å‡ºä»€ä¹ˆåŠªåŠ›ï¼Ÿ",
              options: [
              { 
                  text: "å§”å©‰çš„ç”³è¯·åŠ è–ª ğŸ’°", 
                  value: "ask-for-raise",
                  nextAction: "result",
                  resultMessage: "å§”å©‰çš„æå‡ºï¼Œä½ ç°åœ¨å·¥ä½œé‡å¤§ï¼Œä½†æ˜¯å·¥èµ„ä½ï¼Œè¦æ±‚æ¶¨è–ªã€‚"
                },
                { 
                  text: "æå‡æŠ€èƒ½ï¼Œè€ƒå–è¯ä¹¦ ğŸ“š", 
                  value: "improve-skills",
                  nextAction: "result",
                  resultMessage: "è½¯è€ƒé«˜çº§ä¸€è¿‡ï¼Œç›´æ¥å°±æ˜¯ä¸“å®¶ã€‚è®°ä½ï¼ŒæŠ•èµ„è‡ªå·±æ°¸è¿œä¸ä¼šäºæœ¬ï¼"
                },
                { 
                  text: "ä¸»åŠ¨æ‰¿æ‹…æ›´å¤šè´£ä»» ğŸ’ª", 
                  value: "take-responsibility",
                  nextAction: "result",
                  resultMessage: "æ‰¿æ‹…æ›´å¤šè´£ä»»æ˜¯æ¶¨å·¥èµ„çš„å‰ææ¡ä»¶ã€‚å½“ç„¶ï¼Œé»‘å¿ƒèµ„æœ¬å®¶æ²¡è‰¯å¿ƒï¼Œä¼°è®¡ä¸»åŠ¨ç»™ä½ æ¶¨è–ªä¼šå¾ˆéš¾ï¼"
                },
                { 
                  text: "å¯»æ‰¾è·³æ§½æœºä¼šï¼Œè´§æ¯”ä¸‰å®¶ ğŸ”", 
                  value: "job-hunting",
                  nextAction: "result",
                  resultMessage: "å…ˆé¢è¯•æ‹¿åˆ°offerï¼Œç„¶åç¡¬æ°”ç‚¹è¦æ±‚æ¶¨è–ªï¼Œä¸æ¶¨è–ªç›´æ¥è·³æ§½ï¼Œè·³æ§½æ‰æ˜¯æ¶¨è–ªçš„æœ€å¿«è·¯å¾„ã€‚è®°ä½ï¼Œä½ å€¼å¾—æ›´å¥½çš„å¾…é‡ï¼"
                }
              ]
            }
          ]
        },
        
        // å‡å°‘å·¥ä½œé‡å­æµç¨‹
        workWorkloadFlow: {
          title: "å‡å°‘å·¥ä½œé‡æ”»ç•¥ â°",
          questions: [
            {
              id: 4,
              question: "å¦‚ä½•å‡å°‘å·¥ä½œé‡ï¼Ÿ",
              options: [
                { 
                  text: "æé«˜å·¥ä½œæ•ˆç‡ï¼Œç”¨å·¥å…·è‡ªåŠ¨åŒ– ğŸš€", 
                  value: "improve-efficiency",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©æé«˜æ•ˆç‡å¾ˆèªæ˜ï¼ç”¨æ›´å°‘çš„æ—¶é—´å®Œæˆæ›´å¤šå·¥ä½œï¼Œè¿™æ ·æ—¢èƒ½å‡å°‘å‹åŠ›ï¼Œåˆèƒ½ä¿æŒäº§å‡ºã€‚"
                },
                { 
                  text: "å­¦ä¼šæ‹’ç»ï¼Œä¸æ¥è¶…å‡ºèƒ½åŠ›çš„å·¥ä½œ ğŸš«", 
                  value: "learn-to-say-no",
                  nextAction: "result",
                  resultMessage: "å¹²ä¸äº†ä¸€ç‚¹ï¼ä¸æ˜¯æ‰€æœ‰å·¥ä½œéƒ½è¦æ¥ï¼Œä¿æŠ¤è‡ªå·±çš„æ—¶é—´å’Œç²¾åŠ›å¾ˆé‡è¦ã€‚"
                },
                { 
                  text: "å’Œé¢†å¯¼æ²Ÿé€šï¼Œé‡æ–°åˆ†é…ä»»åŠ¡ ğŸ¤", 
                  value: "renegotiate-tasks",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©å’Œé¢†å¯¼æ²Ÿé€šå¾ˆæ˜æ™ºï¼ä¸è¦æ‹…å¿ƒé¢†å¯¼ä¼šæ€ä¹ˆæƒ³ä½ ï¼Œä½ åªæ˜¯åˆç†è¡¨è¾¾ä½ çš„è¯‰æ±‚ã€‚"
                }
              ]
            }
          ]
        },
        
        // æ¢å·¥ä½œå­æµç¨‹
        workChangeJobFlow: {
          title: "æ¢å·¥ä½œæ”»ç•¥ ğŸ”„",
          questions: [
            {
              id: 4,
              question: "æ¢å·¥ä½œå‰ï¼Œä½ ä¼šåšä»€ä¹ˆå‡†å¤‡ï¼Ÿ",
              options: [
                { 
                  text: "æ›´æ–°ç®€å†ï¼Œæå‡æŠ€èƒ½ ğŸ“", 
                  value: "update-resume",
                  nextAction: "result",
                  resultMessage: "æœ‰ç©ºåˆ·ä¸€ä¸‹Bossç›´è˜ï¼Œçœ‹çœ‹ç°åœ¨çš„å²—ä½ä»€ä¹ˆè–ªèµ„ä»€ä¹ˆè¦æ±‚ï¼Œå…ˆä»ç®€å†ä¿®æ”¹å¼€å§‹å§ï½"
                },
                { 
                  text: "å…ˆæ‰¾å¥½ä¸‹å®¶ï¼Œå†è¾èŒ ğŸ¯", 
                  value: "find-next-job",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©å…ˆæ‰¾å¥½ä¸‹å®¶å¾ˆç¨³å¦¥ï¼è¿™æ ·æ—¢èƒ½ä¿è¯æ”¶å…¥ï¼Œä¹Ÿèƒ½æœ‰æ›´å¤šé€‰æ‹©çš„ç©ºé—´ã€‚"
                },
                { 
                  text: "è£¸è¾ï¼Œç»™è‡ªå·±ä¸€ä¸ªå‡æœŸ ğŸ–ï¸", 
                  value: "quit-directly",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©è£¸è¾å¾ˆæœ‰é­„åŠ›ï¼æœ‰æ—¶å€™éœ€è¦ç»™è‡ªå·±ä¸€ä¸ªé‡æ–°å¼€å§‹çš„æœºä¼šï¼Œæ”¾å¿ƒï¼Œæœ‰è€å…¬ä»”å…»ä½ å‘€ã€‚"
                }
              ]
            }
          ]
        },
        
        // å­¦ä¹ å‹åŠ›å­æµç¨‹
        studyFlow: {
          title: "å­¦ä¹ å‹åŠ›è§£å†³æ–¹æ¡ˆ ğŸ“š",
          questions: [
            {
              id: 3,
              question: "é¢å¯¹å­¦ä¹ å‹åŠ›ï¼Œä½ æœ€å¸Œæœ›å‘ç”Ÿä»€ä¹ˆæ”¹å˜ï¼Ÿ",
              options: [
                { 
                  text: "Calläººå•Šï¼å¯»æ±‚å¯¼å¸ˆå¸®åŠ©ï¼Œè·å¾—ä¸“ä¸šæŒ‡å¯¼ ğŸ‘¨â€ğŸ«", 
                  value: "seek-help",
                  nextAction: "subflow",
                  subflowType: "study-seek-help"
                },
                { 
                  text: "èººå¹³å§ï¼é€‚å½“é™ä½ç›®æ ‡ï¼Œå‡è½»å¿ƒç†è´Ÿæ‹… ğŸ¯", 
                  value: "lower-goal",
                  nextAction: "subflow",
                  subflowType: "study-lower-goal"
                }
              ]
            }
          ]
        },
        
        // å¯»æ±‚å¸®åŠ©å­æµç¨‹
        studySeekHelpFlow: {
          title: "å¯»æ±‚å¸®åŠ©æ”»ç•¥ ğŸ‘¨â€ğŸ«",
          questions: [
            {
              id: 4,
              question: "å¦‚ä½•æ›´å¥½åœ°å¯»æ±‚å¸®åŠ©ï¼Ÿ",
              options: [
                { 
                  text: "ä¸»åŠ¨é¢„çº¦å¯¼å¸ˆï¼Œå‡†å¤‡å…·ä½“é—®é¢˜ ğŸ“", 
                  value: "prepare-questions",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©å‡†å¤‡å…·ä½“é—®é¢˜å¾ˆä¸“ä¸šï¼è¿™æ ·å¯¼å¸ˆèƒ½æ›´å¥½åœ°å¸®åŠ©ä½ ï¼Œæ•ˆç‡ä¼šæ›´é«˜ã€‚è®°ä½ï¼Œå¥½çš„é—®é¢˜æ¯”å¥½çš„ç­”æ¡ˆæ›´é‡è¦ï¼"
                },
                { 
                  text: "æ‰¾åŒå­¦ç»„é˜Ÿå­¦ä¹ ï¼Œäº’ç›¸ç£ä¿ƒ ğŸ¤", 
                  value: "study-group",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©ç»„é˜Ÿå­¦ä¹ å¾ˆæ£’ï¼å›¢é˜Ÿåˆä½œèƒ½æ¿€å‘çµæ„Ÿï¼Œäº’ç›¸ç£ä¿ƒä¹Ÿèƒ½æé«˜å­¦ä¹ æ•ˆç‡ã€‚"
                },
                { 
                  text: "å¤§å–Šä¸€å£°ï¼Œè€å…¬ä»”æ•‘å‘½å•Šï¼ï¼ ğŸ’—", 
                  value: "collective-wisdom",
                  nextAction: "result",
                  resultMessage: "è€å…¬ä»”ä¼šçš„ == è€å©†ä»”ä¼šçš„ï¼ï¼"
                }
              ]
            }
          ]
        },
        
        // é™ä½ç›®æ ‡å­æµç¨‹
        studyLowerGoalFlow: {
          title: "è°ƒæ•´ç›®æ ‡æ”»ç•¥ ğŸ¯",
          questions: [
            {
              id: 4,
              question: "å¦‚ä½•ç§‘å­¦åœ°è°ƒæ•´å­¦ä¹ ç›®æ ‡ï¼Ÿ",
              options: [
                { 
                  text: "é‡æ–°è¯„ä¼°ä¼˜å…ˆçº§ï¼Œä¸“æ³¨æœ€é‡è¦çš„ ğŸ“Š", 
                  value: "reprioritize",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©é‡æ–°è¯„ä¼°ä¼˜å…ˆçº§å¾ˆæ˜æ™ºï¼ä¸æ˜¯æ‰€æœ‰ç›®æ ‡éƒ½åŒç­‰é‡è¦ï¼Œä¸“æ³¨æ ¸å¿ƒå†…å®¹èƒ½è®©ä½ å­¦å¾—æ›´æ‰å®ã€‚"
                },
                { 
                  text: "è®¾å®šé˜¶æ®µæ€§ç›®æ ‡ï¼Œå¾ªåºæ¸è¿› ğŸš€", 
                  value: "step-by-step",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©å¾ªåºæ¸è¿›å¾ˆæ£’ï¼å¤§ç›®æ ‡åˆ†è§£æˆå°ç›®æ ‡ï¼Œæ¯å®Œæˆä¸€ä¸ªéƒ½ä¼šç»™ä½ æˆå°±æ„Ÿï¼Œå‹åŠ›ä¹Ÿä¼šæ…¢æ…¢å‡è½»ã€‚"
                },
                { 
                  text: "ç»™è‡ªå·±æ›´å¤šæ—¶é—´ï¼Œä¸è¦æ€¥äºæ±‚æˆ â°", 
                  value: "more-time",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©ç»™è‡ªå·±æ›´å¤šæ—¶é—´å¾ˆæ˜æ™ºï¼å­¦ä¹ æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¸è¦å› ä¸ºä¸€æ—¶çš„å‹åŠ›è€Œæ”¾å¼ƒã€‚æ…¢ä¸€ç‚¹æ²¡å…³ç³»ï¼Œé‡è¦çš„æ˜¯åšæŒã€‚"
                }
              ]
            }
          ]
        },
        
        // ç”Ÿæ´»å‹åŠ›å­æµç¨‹
        lifeFlow: {
          title: "ç”Ÿæ´»å‹åŠ›è§£å†³æ–¹æ¡ˆ ğŸ ",
          questions: [
            {
              id: 3,
              question: "é¢å¯¹ç”Ÿæ´»å‹åŠ›ï¼Œä½ æœ€å¸Œæœ›å‘ç”Ÿä»€ä¹ˆæ”¹å˜ï¼Ÿ",
              options: [
                { 
                  text: "å»tmdå·¥ä½œå­¦ä¹ ï¼Œè€å¨˜è¦è¯·å‡å»çœ‹çœ‹ä¸–ç•Œ ğŸ•", 
                  value: "more-time",
                  nextAction: "subflow",
                  subflowType: "life-more-time"
                },
                { 
                  text: "å½“å·ç‹ï¼Œæ¥é¡¹ç›®ï¼ŒæŒ£å°é’±é’± ğŸ’°", 
                  value: "more-income",
                  nextAction: "subflow",
                  subflowType: "life-more-income"
                }
              ]
            }
          ]
        },
        
        // æ›´å¤šæ—¶é—´å­æµç¨‹
        lifeMoreTimeFlow: {
          title: "çœ‹ä¸–ç•Œæ”»ç•¥ ğŸŒ",
          questions: [
            {
              id: 4,
              question: "ä¸ºäº†å®ç°çœ‹ä¸–ç•Œçš„æ¢¦æƒ³ï¼Œä½ æ„¿æ„æ€ä¹ˆåšï¼Ÿ",
              options: [
                { 
                  text: "åˆ¶å®šæ—…è¡Œè®¡åˆ’ï¼Œè®¾å®šå…·ä½“ç›®æ ‡ ğŸ—ºï¸", 
                  value: "travel-plan",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©åˆ¶å®šæ—…è¡Œè®¡åˆ’å¾ˆæ£’ï¼æœ‰ç›®æ ‡æ‰æœ‰åŠ¨åŠ›ï¼Œå…ˆä»å°åœ°æ–¹å¼€å§‹ï¼Œæ…¢æ…¢å®ç°çœ‹ä¸–ç•Œçš„æ¢¦æƒ³ã€‚è®°ä½ï¼Œæ¯ä¸ªä¼Ÿå¤§çš„æ—…ç¨‹éƒ½å§‹äºç¬¬ä¸€æ­¥ï¼"
                },
                { 
                  text: "å­¦ä¼šæ—¶é—´ç®¡ç†ï¼Œä¸ºæ—…è¡Œæ”’å‡æœŸ â°", 
                  value: "time-management",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©æ—¶é—´ç®¡ç†å¾ˆæ˜æ™ºï¼åˆç†å®‰æ’å·¥ä½œï¼Œé«˜æ•ˆå®Œæˆä»»åŠ¡ï¼Œä½ å°±èƒ½æœ‰æ›´å¤šå‡æœŸå»çœ‹ä¸–ç•Œã€‚æ—¶é—´å°±æ˜¯é‡‘é’±ï¼Œæ›´æ˜¯è‡ªç”±ï¼"
                },
                { 
                  text: "å¯»æ‰¾è¿œç¨‹å·¥ä½œæœºä¼šï¼Œè¾¹å·¥ä½œè¾¹æ—…è¡Œ ğŸ’»", 
                  value: "remote-work",
                  nextAction: "result",
                  resultMessage: "é€‰æ‹©è¿œç¨‹å·¥ä½œå¾ˆæœ‰è¿œè§ï¼ç§‘æŠ€è®©ä¸–ç•Œå˜å°ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å·¥ä½œï¼ŒåŒæ—¶ä½“éªŒä¸åŒçš„æ–‡åŒ–å’Œé£æ™¯ã€‚è¿™æ‰æ˜¯çœŸæ­£çš„è‡ªç”±ï¼"
                }
              ]
            }
          ]
        },
        
        // å¢åŠ æ”¶å…¥å­æµç¨‹
        lifeMoreIncomeFlow: {
          title: "å¢åŠ æ”¶å…¥æ”»ç•¥ ğŸ’°",
          questions: [
            {
              id: 4,
              question: "å¦‚ä½•å®‰å…¨åœ°å¢åŠ æ”¶å…¥ï¼Ÿ",
              options: [
                { 
                  text: "å¯»æ‰¾å‰¯ä¸šæœºä¼šï¼Œå¤šå…ƒåŒ–æ”¶å…¥ ğŸ’¼", 
                  value: "side-business",
                  nextAction: "result",
                  resultMessage: "ä¸æ˜¯å§ï¼Ÿä¸æ˜¯å§ï¼Ÿä½ è¿˜çœŸçš„ä¸å¤Ÿç´¯ï¼Œè¿˜è¦å†æ¥é¡¹ç›®ï¼Ÿ"
                },
                { 
                  text: "ç†è´¢æŠ•èµ„ï¼Œè®©é’±ç”Ÿé’± ğŸ“ˆ", 
                  value: "investment",
                  nextAction: "result",
                  resultMessage: "ç®—äº†å§ï¼Œå’±ä»¬æ²¡æœ‰è¿™ä¸ªå¤©èµ‹ï¼Œè¿˜ä¸å¦‚é“¶è¡Œå­˜å®šæœŸï½ï½"
                }
              ]
            }
          ]
        }
      }
    }
  },
  
  computed: {
    currentQuestion() {
      if (this.currentStep <= this.quizConfig.mainQuestions.length) {
        return this.quizConfig.mainQuestions[this.currentStep - 1]
      } else if (this.currentStep === "work") {
        const workStep = this.answers.length - this.quizConfig.mainQuestions.length
        return this.quizConfig.workFlow.questions[workStep]
      } else if (this.currentStep === "study") {
        const studyStep = this.answers.length - this.quizConfig.mainQuestions.length
        return this.quizConfig.studyFlow.questions[studyStep]
      } else if (this.currentStep === "life") {
        const lifeStep = this.answers.length - this.quizConfig.mainQuestions.length
        return this.quizConfig.lifeFlow.questions[lifeStep]
      } else if (this.currentStep === "work-salary" || this.currentStep === "work-workload" || this.currentStep === "work-change-job") {
        // å·¥ä½œå‹åŠ›å­æµç¨‹
        let flowKey
        if (this.currentStep === "work-salary") {
          flowKey = "workSalaryFlow"
        } else if (this.currentStep === "work-workload") {
          flowKey = "workWorkloadFlow"
        } else if (this.currentStep === "work-change-job") {
          flowKey = "workChangeJobFlow"
        }
        const flowQuestions = this.quizConfig[flowKey].questions
        const flowStep = this.answers.length - this.quizConfig.mainQuestions.length - 1 // å‡å»å·¥ä½œæµç¨‹çš„ç¬¬ä¸€é¢˜
        return flowQuestions[flowStep]
      } else if (this.currentStep === "study-seek-help" || this.currentStep === "study-lower-goal") {
        // å­¦ä¹ å‹åŠ›å­æµç¨‹
        let flowKey
        if (this.currentStep === "study-seek-help") {
          flowKey = "studySeekHelpFlow"
        } else if (this.currentStep === "study-lower-goal") {
          flowKey = "studyLowerGoalFlow"
        }
        const flowQuestions = this.quizConfig[flowKey].questions
        const flowStep = this.answers.length - this.quizConfig.mainQuestions.length - 1 // å‡å»å­¦ä¹ æµç¨‹çš„ç¬¬ä¸€é¢˜
        return flowQuestions[flowStep]
      } else if (this.currentStep === "life-more-time" || this.currentStep === "life-more-income") {
        // ç”Ÿæ´»å‹åŠ›å­æµç¨‹
        let flowKey
        if (this.currentStep === "life-more-time") {
          flowKey = "lifeMoreTimeFlow"
        } else if (this.currentStep === "life-more-income") {
          flowKey = "lifeMoreIncomeFlow"
        }
        const flowQuestions = this.quizConfig[flowKey].questions
        const flowStep = this.answers.length - this.quizConfig.mainQuestions.length - 1 // å‡å»ç”Ÿæ´»æµç¨‹çš„ç¬¬ä¸€é¢˜
        return flowQuestions[flowStep]
      }
      return null
    },
    
    currentFlowTitle() {
      if (this.currentStep === "work") return this.quizConfig.workFlow.title
      if (this.currentStep === "study") return this.quizConfig.studyFlow.title
      if (this.currentStep === "life") return this.quizConfig.lifeFlow.title
      if (this.currentStep === "work-salary") return this.quizConfig.workSalaryFlow.title
      if (this.currentStep === "work-workload") return this.quizConfig.workWorkloadFlow.title
      if (this.currentStep === "work-change-job") return this.quizConfig.workChangeJobFlow.title
      if (this.currentStep === "study-seek-help") return this.quizConfig.studySeekHelpFlow.title
      if (this.currentStep === "study-lower-goal") return this.quizConfig.studyLowerGoalFlow.title
      if (this.currentStep === "life-more-time") return this.quizConfig.lifeMoreTimeFlow.title
      if (this.currentStep === "life-more-income") return this.quizConfig.lifeMoreIncomeFlow.title
      return ""
    }
  },
  
  methods: {
    startQuiz() {
      this.currentStep = 1
      this.answers = []
      this.selectedOption = null
    },
    
    selectOption(index) {
      this.selectedOption = index
      // è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€é¢˜
      this.$nextTick(() => {
        this.nextQuestion()
      })
    },
    
    nextQuestion() {
      console.log('nextQuestion called, currentStep:', this.currentStep, 'selectedOption:', this.selectedOption)
      
      if (this.selectedOption !== null) {
        const selectedOption = this.currentQuestion.options[this.selectedOption]
        console.log('selectedOption:', selectedOption)
        
        this.answers.push({
          question: this.currentQuestion.question,
          answer: selectedOption
        })
        
        console.log('nextAction:', selectedOption.nextAction, 'subflowType:', selectedOption.subflowType)
        
        // æ ¹æ®é€‰é¡¹çš„nextActionå†³å®šä¸‹ä¸€æ­¥
        if (selectedOption.nextAction === "happy") {
          console.log('Setting currentStep to happy')
          this.currentStep = "happy"
        } else if (selectedOption.nextAction === "subflow") {
          console.log('Setting currentStep to subflow:', selectedOption.subflowType)
          this.currentStep = selectedOption.subflowType
        } else if (selectedOption.nextAction === "result") {
          console.log('Setting currentStep to result')
          this.currentStep = "result"
        } else if (selectedOption.nextAction === "continue") {
          // ç»§ç»­å½“å‰æµç¨‹
          if (this.currentStep <= this.quizConfig.mainQuestions.length) {
            // ä¸»æµç¨‹
            if (this.currentStep < this.quizConfig.mainQuestions.length) {
              this.currentStep++
            }
          } else if (this.currentStep === "work") {
            // å·¥ä½œæµç¨‹ï¼ˆç¬¬3é¢˜ï¼‰
            // è¿™é‡Œä¸éœ€è¦ç»§ç»­ï¼Œå› ä¸ºç¬¬3é¢˜å·²ç»é€‰æ‹©äº†å­æµç¨‹
          } else if (this.currentStep === "work-salary" || this.currentStep === "work-workload" || this.currentStep === "work-change-job") {
            // å·¥ä½œå‹åŠ›å­æµç¨‹
            let flowKey
            if (this.currentStep === "work-salary") {
              flowKey = "workSalaryFlow"
            } else if (this.currentStep === "work-workload") {
              flowKey = "workWorkloadFlow"
            } else if (this.currentStep === "work-change-job") {
              flowKey = "workChangeJobFlow"
            }
            const currentFlowQuestions = this.quizConfig[flowKey].questions
            const currentFlowStep = this.answers.length - this.quizConfig.mainQuestions.length - 1 // å‡å»å·¥ä½œæµç¨‹çš„ç¬¬ä¸€é¢˜
            
            if (currentFlowStep < currentFlowQuestions.length) {
              // è¿˜æœ‰æ›´å¤šé—®é¢˜ï¼Œç»§ç»­
            } else {
              // å­æµç¨‹å®Œæˆï¼Œæ˜¾ç¤ºç»“æœ
              this.currentStep = "result"
            }
          } else {
            // å…¶ä»–å­æµç¨‹
            const currentFlow = this.currentStep
            const currentFlowQuestions = this.quizConfig[`${currentFlow}Flow`].questions
            const currentFlowStep = this.answers.length - this.quizConfig.mainQuestions.length
            
            if (currentFlowStep < currentFlowQuestions.length) {
              // è¿˜æœ‰æ›´å¤šé—®é¢˜ï¼Œç»§ç»­
            } else {
              // å­æµç¨‹å®Œæˆï¼Œæ˜¾ç¤ºç»“æœ
              this.currentStep = "result"
            }
          }
        }
        
        this.selectedOption = null
      }
    },
    
    prevQuestion() {
      console.log('prevQuestion called, currentStep:', this.currentStep, 'answers length:', this.answers.length)
      
      // æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿”å›ï¼ˆåŒ…æ‹¬å­æµç¨‹ï¼‰
      if (this.currentStep > 1 || this.currentStep === "work" || this.currentStep === "study" || this.currentStep === "life" || this.currentStep === "work-salary" || this.currentStep === "work-workload" || this.currentStep === "work-change-job" || this.currentStep === "study-seek-help" || this.currentStep === "study-lower-goal" || this.currentStep === "life-more-time" || this.currentStep === "life-more-income" || this.currentStep === "result") {
        // å¦‚æœåœ¨å­æµç¨‹ä¸­ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†
        if (this.currentStep === "work" || this.currentStep === "study" || this.currentStep === "life") {
          const currentFlow = this.currentStep
          const currentFlowQuestions = this.quizConfig[`${currentFlow}Flow`].questions
          const currentFlowStep = this.answers.length - this.quizConfig.mainQuestions.length
          
          console.log('In subflow:', currentFlow, 'step:', currentFlowStep)
          
          if (currentFlowStep > 0) {
            // è¿˜åœ¨å­æµç¨‹ä¸­ï¼Œè¿”å›ä¸Šä¸€é¢˜
            console.log('Going back in subflow')
            this.answers.pop()
            this.selectedOption = null
          } else {
            // å›åˆ°ä¸»æµç¨‹ç¬¬äºŒé¢˜
            console.log('Going back to main flow')
            this.currentStep = 2
            this.answers.pop()
            this.selectedOption = null
          }
        } else if (this.currentStep === "work-salary" || this.currentStep === "work-workload" || this.currentStep === "work-change-job") {
          // ä»å·¥ä½œå‹åŠ›å­æµç¨‹è¿”å›
          console.log('Going back from work subflow')
          this.currentStep = "work"
          this.answers.pop()
          this.selectedOption = null
        } else if (this.currentStep === "study-seek-help" || this.currentStep === "study-lower-goal") {
          // ä»å­¦ä¹ å‹åŠ›å­æµç¨‹è¿”å›
          console.log('Going back from study subflow')
          this.currentStep = "study"
          this.answers.pop()
          this.selectedOption = null
        } else if (this.currentStep === "life-more-time" || this.currentStep === "life-more-income") {
          // ä»ç”Ÿæ´»å‹åŠ›å­æµç¨‹è¿”å›
          console.log('Going back from life subflow')
          this.currentStep = "life"
          this.answers.pop()
          this.selectedOption = null
        } else if (this.currentStep === "result") {
          // ä»ç»“æœé¡µè¿”å›ï¼Œéœ€è¦å›åˆ°å¯¹åº”çš„å­æµç¨‹
          console.log('Going back from result page')
          const lastAnswer = this.answers[this.answers.length - 1]
          if (lastAnswer && lastAnswer.answer.value) {
            // æ ¹æ®æœ€åä¸€ä¸ªç­”æ¡ˆåˆ¤æ–­æ˜¯å“ªä¸ªæµç¨‹
            if (["improve-skills", "take-responsibility", "job-hunting"].includes(lastAnswer.answer.value)) {
              this.currentStep = "work-salary"
            } else if (["improve-efficiency", "learn-to-say-no", "renegotiate-tasks"].includes(lastAnswer.answer.value)) {
              this.currentStep = "work-workload"
            } else if (["update-resume", "find-next-job", "quit-directly"].includes(lastAnswer.answer.value)) {
              this.currentStep = "work-change-job"
            } else if (["persist", "balance", "collaborate", "enjoy"].includes(lastAnswer.answer.value)) {
              this.currentStep = "study"
            } else if (["suffer", "seek-support", "make-plan", "reward"].includes(lastAnswer.answer.value)) {
              this.currentStep = "life"
            }
          }
          this.answers.pop()
          this.selectedOption = null
        } else {
          // ä¸»æµç¨‹ä¸­çš„è¿”å›
          console.log('Going back in main flow')
          this.currentStep--
          this.answers.pop()
          this.selectedOption = null
        }
      } else {
        console.log('Cannot go back, currentStep <= 1')
      }
    },
    
    getQuestionNumber() {
      if (this.currentStep <= this.quizConfig.mainQuestions.length) {
        return this.currentStep
      } else if (this.currentStep === "work" || this.currentStep === "study" || this.currentStep === "life") {
        return this.quizConfig.mainQuestions.length + this.answers.length - this.quizConfig.mainQuestions.length + 1
      } else if (this.currentStep === "work-salary" || this.currentStep === "work-workload" || this.currentStep === "work-change-job") {
        // å·¥ä½œå‹åŠ›å­æµç¨‹
        return this.quizConfig.mainQuestions.length + 2 // ç¬¬3é¢˜ + ç¬¬4é¢˜
      } else if (this.currentStep === "study-seek-help" || this.currentStep === "study-lower-goal") {
        // å­¦ä¹ å‹åŠ›å­æµç¨‹
        return this.quizConfig.mainQuestions.length + 2 // ç¬¬3é¢˜ + ç¬¬4é¢˜
      } else if (this.currentStep === "life-more-time" || this.currentStep === "life-more-income") {
        // ç”Ÿæ´»å‹åŠ›å­æµç¨‹
        return this.quizConfig.mainQuestions.length + 2 // ç¬¬3é¢˜ + ç¬¬4é¢˜
      }
      return 1
    },
    
    canGoBack() {
      if (this.currentStep <= 1) return false
      if (this.currentStep === "work" || this.currentStep === "study" || this.currentStep === "life" || this.currentStep === "work-salary" || this.currentStep === "work-workload" || this.currentStep === "work-change-job" || this.currentStep === "study-seek-help" || this.currentStep === "study-lower-goal" || this.currentStep === "life-more-time" || this.currentStep === "life-more-income") {
        // åœ¨å­æµç¨‹ä¸­ï¼Œæ€»æ˜¯å¯ä»¥è¿”å›ï¼ˆå› ä¸ºè‡³å°‘å·²ç»é€‰æ‹©äº†å‹åŠ›æºï¼‰
        return true
      }
      if (this.currentStep === "result") {
        // åœ¨ç»“æœé¡µï¼Œæ€»æ˜¯å¯ä»¥è¿”å›
        return true
      }
      return true
    },
    
    getResultText() {
      const lastAnswer = this.answers[this.answers.length - 1]
      
      if (lastAnswer && lastAnswer.answer.resultMessage) {
        return lastAnswer.answer.resultMessage
      }
      
      return "äº²çˆ±çš„è€å©†ä»”ï¼Œæ— è®ºä½ é€‰æ‹©ä»€ä¹ˆï¼Œéƒ½è¦è®°ä½ï¼šä½ å€¼å¾—è¢«å°Šé‡ï¼Œä½ çš„ä»˜å‡ºåº”è¯¥å¾—åˆ°å›æŠ¥ã€‚ä¸è¦å®³æ€•æ”¹å˜ï¼Œå‹‡æ•¢åœ°ä¸ºè‡ªå·±äº‰å–æ›´å¥½çš„ç”Ÿæ´»ï¼ğŸ’ªğŸ’•"
    },
    
    restartQuiz() {
      this.currentStep = 1
      this.answers = []
      this.selectedOption = null
    },
    
    goHome() {
      this.currentStep = 0
      this.answers = []
      this.selectedOption = null
    },
    
    petDog() {
      this.dogClickCount++
      
      if (this.dogClickCount === 1) {
        this.dogState = 'happy'
        // æ˜¾ç¤ºå¼€å¿ƒæ¶ˆæ¯
        setTimeout(() => {
          this.dogState = 'normal'
        }, 2000)
      } else if (this.dogClickCount === 3) {
        this.dogState = 'excited'
        // æ˜¾ç¤ºå…´å¥‹æ¶ˆæ¯
        setTimeout(() => {
          this.dogState = 'normal'
        }, 3000)
      } else if (this.dogClickCount >= 5) {
        this.dogState = 'excited'
        // æ˜¾ç¤ºè¶…çº§å…´å¥‹æ¶ˆæ¯
        setTimeout(() => {
          this.dogState = 'normal'
        }, 4000)
      }
      
      // é‡ç½®ç‚¹å‡»æ¬¡æ•°ï¼ˆæ¯10æ¬¡é‡ç½®ï¼‰
      if (this.dogClickCount >= 10) {
        this.dogClickCount = 0
      }
    }
  }
}
</script>

<style scoped>
.app {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.container {
  width: 100%;
  max-width: 600px;
  text-align: center;
}

.header {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 40px 30px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
}

.title {
  font-size: 2.5rem;
  color: #4a5568;
  margin-bottom: 15px;
  font-weight: 700;
}

.subtitle {
  font-size: 1.2rem;
  color: #718096;
  margin-bottom: 30px;
}

.start-btn {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px 40px;
  border-radius: 50px;
  font-size: 1.2rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: inline-block;
}

.start-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
}

.question-container {
  width: 100%;
}

.question-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 40px 30px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
}

.question-number {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 8px 20px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 600;
  display: inline-block;
  margin-bottom: 20px;
}

.flow-title {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  padding: 8px 20px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 600;
  display: inline-block;
  margin-bottom: 15px;
}

.question-text {
  font-size: 1.5rem;
  color: #2d3748;
  margin-bottom: 30px;
  line-height: 1.4;
}

.options {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-bottom: 30px;
}

.option-btn {
  background: #f7fafc;
  border: 2px solid #e2e8f0;
  padding: 20px;
  border-radius: 15px;
  font-size: 1.1rem;
  color: #4a5568;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 500;
}

.option-btn:hover {
  border-color: #667eea;
  background: #edf2f7;
  transform: translateY(-2px);
}

.option-btn.selected {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-color: #667eea;
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
}

.navigation {
  display: flex;
  justify-content: center;
}

.nav-btn {
  padding: 12px 25px;
  border: none;
  border-radius: 25px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.prev-btn {
  background: #e2e8f0;
  color: #4a5568;
}

.prev-btn:hover {
  background: #cbd5e0;
}

.happy-container, .result-container {
  width: 100%;
}

.happy-card, .result-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 40px 30px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
  text-align: center;
}

.happy-title, .result-title {
  font-size: 2rem;
  color: #2d3748;
  margin-bottom: 25px;
}

.happy-text, .happy-message {
  font-size: 1.2rem;
  color: #4a5568;
  margin-bottom: 15px;
}

.happy-emoji {
  font-size: 4rem;
  margin: 20px 0;
}

.result-text {
  font-size: 1.2rem;
  color: #4a5568;
  line-height: 1.6;
  text-align: left;
  margin-bottom: 30px;
}

.action-buttons {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.action-btn {
  padding: 15px 30px;
  border: none;
  border-radius: 25px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.action-btn.primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

.action-btn.primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
}

.action-btn.secondary {
  background: #e2e8f0;
  color: #4a5568;
}

.action-btn.secondary:hover {
  background: #cbd5e0;
}

@media (max-width: 768px) {
  .app {
    padding: 15px;
  }
  
  .title {
    font-size: 2rem;
  }
  
  .question-text {
    font-size: 1.3rem;
  }
  
  .option-btn {
    padding: 18px;
    font-size: 1rem;
  }
  
  .action-btn {
    width: 100%;
  }
  
  .dog-walking-animation {
    margin-bottom: 20px;
  }
  
  .dog-svg {
    width: 280px;
    height: 140px;
  }
}

/* å°ç‹—é›ç‹—åŠ¨ç”»æ ·å¼ */
.dog-walking-animation {
  margin-bottom: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.dog-svg {
  width: 500px;
  height: 300px;
  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.15));
  border-radius: 20px;
  overflow: hidden;
}

/* äº‘æœµåŠ¨ç”» */
.clouds ellipse {
  animation: float 3s ease-in-out infinite;
}

.clouds ellipse:nth-child(1) {
  animation-delay: 0s;
}

.clouds ellipse:nth-child(2) {
  animation-delay: 1s;
}

.clouds ellipse:nth-child(3) {
  animation-delay: 2s;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-5px);
  }
}

/* è€å…¬åŠ¨ç”» */
.husband {
  animation: husbandWalk 2s ease-in-out infinite;
}

@keyframes husbandWalk {
  0%, 100% {
    transform: translate(150px, 180px) translateY(0px);
  }
  50% {
    transform: translate(150px, 180px) translateY(-3px);
  }
}

/* è€å©†åŠ¨ç”» */
.wife {
  animation: wifeWalk 2.2s ease-in-out infinite;
}

@keyframes wifeWalk {
  0%, 100% {
    transform: translate(200px, 180px) translateY(0px);
  }
  50% {
    transform: translate(200px, 180px) translateY(-2px);
  }
}

/* é›ç‹—ç»³åŠ¨ç”» */
.leash {
  animation: leashWave 1.5s ease-in-out infinite;
  transform-origin: 200px 180px;
}

@keyframes leashWave {
  0%, 100% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(2deg);
  }
}

/* å°ç‹—åŠ¨ç”» */
.dog {
  animation: dogWalk 2.5s ease-in-out infinite;
  transition: all 0.3s ease;
}

.dog:hover {
  transform: scale(1.05);
}

@keyframes dogWalk {
  0%, 100% {
    transform: translate(300px, 180px) translateY(0px) rotate(0deg);
  }
  25% {
    transform: translate(300px, 180px) translateY(-2px) rotate(1deg);
  }
  50% {
    transform: translate(300px, 180px) translateY(0px) rotate(0deg);
  }
  75% {
    transform: translate(300px, 180px) translateY(-2px) rotate(-1deg);
  }
}

/* å°ç‹—å°¾å·´åŠ¨ç”» */
.tail {
  animation: tailWag 1s ease-in-out infinite;
  transform-origin: -25px 0px;
}

@keyframes tailWag {
  0%, 100% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(20deg);
  }
}

/* å°ç‹—è€³æœµåŠ¨ç”» */
.dog ellipse {
  animation: earWiggle 2s ease-in-out infinite;
}

.dog ellipse:nth-child(2) {
  animation-delay: 0.5s;
}

@keyframes earWiggle {
  0%, 100% {
    transform: rotate(-20deg, 15, -25) scale(1);
  }
  50% {
    transform: rotate(-20deg, 15, -25) scale(1.1);
  }
}

.dog ellipse:nth-child(3) {
  animation-delay: 0.5s;
}

@keyframes earWiggle2 {
  0%, 100% {
    transform: rotate(20deg, 25, -25) scale(1);
  }
  50% {
    transform: rotate(20deg, 25, -25) scale(1.1);
  }
}

/* è£…é¥°å…ƒç´ åŠ¨ç”» */
.decorations rect {
  animation: bounce 2s ease-in-out infinite;
}

.decorations g {
  animation: rotate 4s linear infinite;
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-3px);
  }
}

@keyframes rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* å°ç‹—çœ¼ç›é—ªçƒåŠ¨ç”» */
.dog circle:nth-child(4),
.dog circle:nth-child(5) {
  animation: blink 3s ease-in-out infinite;
}

@keyframes blink {
  0%, 90%, 100% {
    opacity: 1;
  }
  95% {
    opacity: 0.3;
  }
}

/* å°ç‹—çŠ¶æ€ç›¸å…³åŠ¨ç”» */
.dog.happy .tail {
  animation: tailWag 0.5s ease-in-out infinite;
}

.dog.excited .tail {
  animation: tailWag 0.3s ease-in-out infinite;
}

.dog.happy ellipse {
  animation: earWiggle 1s ease-in-out infinite;
}

.dog.excited ellipse {
  animation: earWiggle 0.5s ease-in-out infinite;
}

/* æ•´ä½“å‘¼å¸æ•ˆæœ */
.dog-walking-animation {
  animation: breathe 4s ease-in-out infinite;
}

@keyframes breathe {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

/* å°ç‹—çŠ¶æ€æ¶ˆæ¯æ ·å¼ */
.dog-message {
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #333;
  padding: 12px 24px;
  border-radius: 25px;
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 20px;
  box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
  animation: messagePop 0.5s ease-out;
  display: inline-block;
}

.dog-message.happy {
  background: linear-gradient(135deg, #90EE90, #32CD32);
  color: #fff;
  box-shadow: 0 4px 12px rgba(144, 238, 144, 0.3);
}

.dog-message.excited {
  background: linear-gradient(135deg, #FF69B4, #FF1493);
  color: #fff;
  box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3);
  animation: messagePop 0.3s ease-out;
}

@keyframes messagePop {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* äº¤äº’æç¤ºæ ·å¼ */
.interaction-hint {
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}

/* è´è¶åŠ¨ç”» */
.butterfly {
  animation: butterflyFly 4s ease-in-out infinite;
}

@keyframes butterflyFly {
  0%, 100% {
    transform: translate(420px, 100px) rotate(0deg);
  }
  25% {
    transform: translate(420px, 100px) rotate(15deg) translateY(-5px);
  }
  50% {
    transform: translate(420px, 100px) rotate(0deg) translateY(0px);
  }
  75% {
    transform: translate(420px, 100px) rotate(-15deg) translateY(-5px);
  }
}
</style>
